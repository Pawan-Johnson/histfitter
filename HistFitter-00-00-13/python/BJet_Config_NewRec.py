
################################################################
## In principle all you have to setup is defined in this file ##
################################################################

from configManager import configMgr
from ROOT import kBlack,kWhite,kGray,kRed,kPink,kMagenta,kViolet,kBlue,kAzure,kCyan,kTeal,kGreen,kSpring,kYellow,kOrange
from configWriter import TopLevelXML,Measurement,ChannelXML,Sample
from systematic import Systematic
import sys

## Read grid as argument:
doTheory = ""
gridname = sys.argv[3]
analysisname = sys.argv[4]
doTheory = sys.argv[5]
print "Grid name = " + gridname
print "analysis name = " + analysisname
print "Do Theory = " + doTheory


## First define HistFactory attributes
configMgr.analysisName =  gridname + "_" + analysisname 
configMgr.outputFileName = "results/" + gridname + "_" + analysisname + "_AnalysisOutput.root"

if doTheory == "WT":
    configMgr.outputFileName = "results/" + gridname + "_" + analysisname + "_AnalysisOutput.root"
elif doTheory == "NT":
    analysisname += "NT"
    configMgr.outputFileName = "results/" + gridname + "_" + analysisname + "_AnalysisOutput.root"
else:
    print "Incorrect theory option given"
    sys.exit(1)


## Scaling calculated by outputLumi / inputLumi
configMgr.inputLumi = 4.7  # Luminosity of input TTree after weighting
configMgr.outputLumi = 4.7 # Luminosity required for output histograms
configMgr.setLumiUnits("fb-1")

## setting the parameters of the hypothesis test
#configMgr.nTOYs=1000
configMgr.calculatorType=2
configMgr.testStatType=3
configMgr.nPoints=20

## Set the files to read from #definitely for trees, but also for hists?)
#configMgr.inputFileNames = ["data/.root"]
#inputFileName = analysisname.rstrip()
#inputFileName = inputFileName.rstrip("NT")
#print "inputfilename = " + inputFileName
configMgr.inputFileNames = ["data/" + configMgr.analysisName + ".root"]
print "conf.inputFileNames = " + configMgr.inputFileNames[0]

## Suffix of nominal tree
configMgr.nomName = "_NoSys"

## Map regions to cut strings
#configMgr.cutsDict = {"SR":"1.0"}
configMgr.cutsDict["SR"] = "1.0"
configMgr.cutsDict["CR"] = "1.0"
#configMgr.cutsDict = {"SR":"1.0","CR":"1.0"}

## Systematics to be applied
jes  = Systematic("JES","_NoSys","_JESup","_JESdown","tree","overallSys")
jer  = Systematic("JER","_NoSys","_JERup","_JERdown","tree","overallSys")
btag = Systematic("BTAG","_NoSys","_BTAGup","_BTAGdown","tree","overallSys")
ctag = Systematic("CTAG","_NoSys","_CTAGup","_CTAGdown","tree","overallSys")
ltag = Systematic("LTAG","_NoSys","_LTAGup","_LTAGdown","tree","overallSys")

theoryback  = Systematic("THEORY","_NoSys","_THEORYup","_THEORYdown","tree","overallSys")

theorybackTop_Np  = Systematic("THEORY_Np_TOP","_NoSys","_THEORY_Np_up","_THEORY_Np_down","tree","overallSys")
theorybackTop_Gen  = Systematic("THEORY_Gen_TOP","_NoSys","_THEORY_Gen_up","_THEORY_Gen_down","tree","overallSys")
theorybackTop_Kt  = Systematic("THEORY_Kt_TOP","_NoSys","_THEORY_Kt_up","_THEORY_Kt_down","tree","overallSys")
theorybackTop_qF  = Systematic("THEORY_qF_TOP","_NoSys","_THEORY_qF_up","_THEORY_qF_down","tree","overallSys")
theorybackTop_pdf  = Systematic("THEORY_pdf_TOP","_NoSys","_THEORY_pdf_up","_THEORY_pdf_down","tree","overallSys")


## List of samples and their plotting colours
allbkgSample = Sample("Bkg",kGreen)
allbkgSample.setNormFactor("mu_BG",1.,0.,5.)
allbkgSample.setStatConfig(True)
allbkgSample.addSystematic(theoryback)

topSample = Sample("Top",kBlue)
topSample.setNormFactor("mu_Top",1.,0.,5.)
topSample.setStatConfig(True)
topSample.addSystematic(theorybackTop_Np)
topSample.addSystematic(theorybackTop_Gen)
topSample.addSystematic(theorybackTop_Kt)
topSample.addSystematic(theorybackTop_qF)
topSample.addSystematic(theorybackTop_pdf)



dataSample = Sample("Data",kBlack)
dataSample.setData()

commonSamples = [allbkgSample,topSample,dataSample]
configMgr.plotColours = [kGreen,kBlack]

## Parameters of the Measurement
measName = "BasicMeasurement"
measLumi = 1.
measLumiError = 0.039

## Parameters of Channels
cutsRegions = ["SR"]
NormRegions = ["CR"]
cutsNBins = 1
cutsBinLow = 0.0
cutsBinHigh = 1.0

## Bkg-only fit
bkgOnly = configMgr.addTopLevelXML("SimpleChannel_BkgOnly")
bkgOnly.statErrThreshold=0.0#None #0.5
bkgOnly.addSamples(commonSamples)
bkgOnly.addSystematic(jes)
bkgOnly.addSystematic(jer)
bkgOnly.addSystematic(btag)
bkgOnly.addSystematic(ctag)
bkgOnly.addSystematic(ltag)

meas = bkgOnly.addMeasurement(measName,measLumi,measLumiError)
meas.addPOI("mu_SIG")
meas.addParamSetting("mu_BG",True,1)
print 'About to add SR:'


#CRs
SRReg = bkgOnly.addChannel("cuts",["SR"],cutsNBins,cutsBinLow,cutsBinHigh)
CRTop = bkgOnly.addChannel("cuts",["CR"],cutsNBins,cutsBinLow,cutsBinHigh)
bkgOnly.setBkgConstrainChannels([CRTop])

## Discovery fit
#discovery = configMgr.addTopLevelXMLClone(bkgOnly,"SimpleChannel_Discovery")
#discovery.clearSystematics()
#sigSample = Sample("discoveryMode",kBlue)
#sigSample.setNormFactor("mu_SIG",0.5,0.,1.)
#sigSample.setNormByTheory()
#discovery.addSamples(sigSample)
#discovery.setSignalSample(sigSample)

#"SU_350_300_0_10","SU_500_450_0_10","SU_700_650_0_10","SU_800_750_0_10",,"SU_1000_950_0_10","SU_1150_1100_0_10","SU_1200_1150_0_10",
sigSamples = []
if "Gtt" in gridname:
    sigSamples = ["SU_400_1_0_10","SU_400_45_0_10","SU_450_1_0_10","SU_450_50_0_10","SU_450_95_0_10","SU_500_1_0_10","SU_500_50_0_10","SU_500_100_0_10","SU_500_145_0_10","SU_550_1_0_10","SU_550_50_0_10","SU_550_100_0_10","SU_550_150_0_10","SU_550_195_0_10","SU_600_1_0_10","SU_600_50_0_10","SU_600_100_0_10","SU_600_150_0_10","SU_600_200_0_10","SU_600_245_0_10","SU_650_1_0_10","SU_650_50_0_10","SU_650_100_0_10","SU_650_150_0_10","SU_650_200_0_10","SU_650_250_0_10","SU_650_295_0_10","SU_700_1_0_10","SU_700_50_0_10","SU_700_100_0_10","SU_700_150_0_10","SU_700_200_0_10","SU_700_250_0_10","SU_700_300_0_10","SU_700_345_0_10","SU_750_1_0_10","SU_750_50_0_10","SU_750_100_0_10","SU_750_150_0_10","SU_750_200_0_10","SU_750_250_0_10","SU_750_300_0_10","SU_750_350_0_10","SU_750_395_0_10","SU_800_1_0_10","SU_800_50_0_10","SU_800_100_0_10","SU_800_150_0_10","SU_800_200_0_10","SU_800_250_0_10","SU_800_300_0_10","SU_800_350_0_10","SU_800_400_0_10","SU_800_445_0_10","SU_850_1_0_10","SU_850_50_0_10","SU_850_100_0_10","SU_850_150_0_10","SU_850_200_0_10","SU_850_250_0_10","SU_850_300_0_10","SU_850_350_0_10","SU_850_400_0_10","SU_850_450_0_10","SU_850_495_0_10","SU_900_1_0_10","SU_900_50_0_10","SU_900_100_0_10","SU_900_150_0_10","SU_900_200_0_10","SU_900_250_0_10","SU_900_300_0_10","SU_900_350_0_10","SU_900_400_0_10","SU_900_450_0_10","SU_900_500_0_10","SU_900_545_0_10","SU_950_1_0_10","SU_950_50_0_10","SU_950_100_0_10","SU_950_150_0_10","SU_950_200_0_10","SU_950_250_0_10","SU_950_300_0_10","SU_950_350_0_10","SU_950_400_0_10","SU_950_450_0_10","SU_950_500_0_10","SU_950_550_0_10","SU_950_595_0_10","SU_1000_1_0_10","SU_1000_50_0_10","SU_1000_100_0_10","SU_1000_150_0_10","SU_1000_200_0_10","SU_1000_250_0_10","SU_1000_300_0_10","SU_1000_350_0_10","SU_1000_400_0_10","SU_1000_450_0_10","SU_1000_500_0_10","SU_1000_550_0_10","SU_1000_600_0_10","SU_1000_645_0_10","SU_1050_1_0_10","SU_1050_50_0_10","SU_1050_100_0_10","SU_1050_150_0_10","SU_1050_200_0_10","SU_1050_250_0_10","SU_1050_300_0_10","SU_1050_350_0_10","SU_1050_400_0_10","SU_1050_450_0_10","SU_1050_500_0_10","SU_1050_550_0_10","SU_1050_600_0_10","SU_1050_650_0_10","SU_1050_695_0_10","SU_1100_1_0_10","SU_1100_50_0_10","SU_1100_100_0_10","SU_1100_150_0_10","SU_1100_200_0_10","SU_1100_250_0_10","SU_1100_300_0_10","SU_1100_350_0_10","SU_1100_400_0_10","SU_1100_450_0_10","SU_1100_500_0_10","SU_1100_550_0_10","SU_1100_600_0_10","SU_1100_650_0_10","SU_1100_700_0_10","SU_1100_745_0_10","SU_1150_1_0_10","SU_1150_50_0_10","SU_1150_100_0_10","SU_1150_150_0_10","SU_1150_200_0_10","SU_1150_250_0_10","SU_1150_300_0_10","SU_1150_350_0_10","SU_1150_400_0_10","SU_1150_450_0_10","SU_1150_500_0_10","SU_1150_550_0_10","SU_1150_600_0_10","SU_1150_650_0_10","SU_1150_700_0_10","SU_1150_750_0_10","SU_1150_795_0_10","SU_1200_1_0_10","SU_1200_50_0_10","SU_1200_100_0_10","SU_1200_150_0_10","SU_1200_200_0_10","SU_1200_250_0_10","SU_1200_300_0_10","SU_1200_350_0_10","SU_1200_400_0_10","SU_1200_450_0_10","SU_1200_500_0_10","SU_1200_550_0_10","SU_1200_600_0_10","SU_1200_650_0_10","SU_1200_700_0_10","SU_1200_750_0_10"]
elif "Gbb" in gridname:
    sigSamples = ["SU_200_1_0_10","SU_200_50_0_10","SU_200_100_0_10","SU_200_150_0_10","SU_250_1_0_10","SU_250_50_0_10","SU_250_100_0_10","SU_250_150_0_10","SU_250_200_0_10","SU_300_1_0_10","SU_300_50_0_10","SU_300_100_0_10","SU_300_150_0_10","SU_300_200_0_10","SU_300_250_0_10","SU_350_1_0_10","SU_350_50_0_10","SU_350_100_0_10","SU_350_150_0_10","SU_350_200_0_10","SU_350_250_0_10","SU_350_300_0_10","SU_400_1_0_10","SU_400_50_0_10","SU_400_100_0_10","SU_400_150_0_10","SU_400_200_0_10","SU_400_250_0_10","SU_400_300_0_10","SU_400_350_0_10","SU_450_1_0_10","SU_450_50_0_10","SU_450_100_0_10","SU_450_150_0_10","SU_450_200_0_10","SU_450_250_0_10","SU_450_300_0_10","SU_450_350_0_10","SU_450_400_0_10","SU_500_1_0_10","SU_500_50_0_10","SU_500_100_0_10","SU_500_150_0_10","SU_500_200_0_10","SU_500_250_0_10","SU_500_300_0_10","SU_500_350_0_10","SU_500_400_0_10","SU_500_450_0_10","SU_550_1_0_10","SU_550_50_0_10","SU_550_100_0_10","SU_550_150_0_10","SU_550_200_0_10","SU_550_250_0_10","SU_550_300_0_10","SU_550_350_0_10","SU_550_400_0_10","SU_550_450_0_10","SU_550_500_0_10","SU_600_1_0_10","SU_600_50_0_10","SU_600_100_0_10","SU_600_150_0_10","SU_600_200_0_10","SU_600_250_0_10","SU_600_300_0_10","SU_600_350_0_10","SU_600_400_0_10","SU_600_450_0_10","SU_600_500_0_10","SU_600_550_0_10","SU_650_1_0_10","SU_650_50_0_10","SU_650_100_0_10","SU_650_150_0_10","SU_650_200_0_10","SU_650_250_0_10","SU_650_300_0_10","SU_650_350_0_10","SU_650_400_0_10","SU_650_450_0_10","SU_650_500_0_10","SU_650_550_0_10","SU_650_600_0_10","SU_700_1_0_10","SU_700_50_0_10","SU_700_100_0_10","SU_700_150_0_10","SU_700_200_0_10","SU_700_250_0_10","SU_700_300_0_10","SU_700_350_0_10","SU_700_400_0_10","SU_700_450_0_10","SU_700_500_0_10","SU_700_550_0_10","SU_700_600_0_10","SU_700_650_0_10","SU_750_1_0_10","SU_750_50_0_10","SU_750_100_0_10","SU_750_150_0_10","SU_750_200_0_10","SU_750_250_0_10","SU_750_300_0_10","SU_750_350_0_10","SU_750_400_0_10","SU_750_450_0_10","SU_750_500_0_10","SU_750_550_0_10","SU_750_600_0_10","SU_750_650_0_10","SU_750_700_0_10","SU_800_1_0_10","SU_800_50_0_10","SU_800_100_0_10","SU_800_150_0_10","SU_800_200_0_10","SU_800_250_0_10","SU_800_300_0_10","SU_800_350_0_10","SU_800_400_0_10","SU_800_450_0_10","SU_800_500_0_10","SU_800_550_0_10","SU_800_600_0_10","SU_800_650_0_10","SU_800_700_0_10","SU_800_750_0_10","SU_850_1_0_10","SU_850_50_0_10","SU_850_100_0_10","SU_850_150_0_10","SU_850_200_0_10","SU_850_250_0_10","SU_850_300_0_10","SU_850_350_0_10","SU_850_400_0_10","SU_850_450_0_10","SU_850_500_0_10","SU_850_550_0_10","SU_850_600_0_10","SU_850_650_0_10","SU_850_700_0_10","SU_850_750_0_10","SU_850_800_0_10","SU_900_1_0_10","SU_900_50_0_10","SU_900_100_0_10","SU_900_150_0_10","SU_900_200_0_10","SU_900_250_0_10","SU_900_300_0_10","SU_900_350_0_10","SU_900_400_0_10","SU_900_450_0_10","SU_900_500_0_10","SU_900_550_0_10","SU_900_600_0_10","SU_900_650_0_10","SU_900_700_0_10","SU_900_750_0_10","SU_900_800_0_10","SU_900_850_0_10","SU_950_1_0_10","SU_950_50_0_10","SU_950_100_0_10","SU_950_150_0_10","SU_950_200_0_10","SU_950_250_0_10","SU_950_300_0_10","SU_950_350_0_10","SU_950_400_0_10","SU_950_450_0_10","SU_950_500_0_10","SU_950_550_0_10","SU_950_600_0_10","SU_950_650_0_10","SU_950_700_0_10","SU_950_750_0_10","SU_950_800_0_10","SU_950_850_0_10","SU_950_900_0_10","SU_1000_1_0_10","SU_1000_50_0_10","SU_1000_100_0_10","SU_1000_150_0_10","SU_1000_200_0_10","SU_1000_250_0_10","SU_1000_300_0_10","SU_1000_350_0_10","SU_1000_400_0_10","SU_1000_450_0_10","SU_1000_500_0_10","SU_1000_550_0_10","SU_1000_600_0_10","SU_1000_650_0_10","SU_1000_700_0_10","SU_1000_750_0_10","SU_1000_800_0_10","SU_1000_850_0_10","SU_1000_900_0_10","SU_1000_950_0_10","SU_1050_1_0_10","SU_1050_50_0_10","SU_1050_100_0_10","SU_1050_150_0_10","SU_1050_200_0_10","SU_1050_250_0_10","SU_1050_300_0_10","SU_1050_350_0_10","SU_1050_400_0_10","SU_1050_450_0_10","SU_1050_500_0_10","SU_1050_550_0_10","SU_1050_600_0_10","SU_1050_650_0_10","SU_1050_700_0_10","SU_1050_750_0_10","SU_1050_800_0_10","SU_1050_850_0_10","SU_1050_900_0_10","SU_1050_950_0_10","SU_1050_1000_0_10","SU_1100_1_0_10","SU_1100_50_0_10","SU_1100_100_0_10","SU_1100_150_0_10","SU_1100_200_0_10","SU_1100_250_0_10","SU_1100_300_0_10","SU_1100_350_0_10","SU_1100_400_0_10","SU_1100_450_0_10","SU_1100_500_0_10","SU_1100_550_0_10","SU_1100_600_0_10","SU_1100_650_0_10","SU_1100_700_0_10","SU_1100_750_0_10","SU_1100_800_0_10","SU_1100_850_0_10","SU_1100_900_0_10","SU_1100_950_0_10","SU_1100_1000_0_10","SU_1100_1050_0_10","SU_1150_1_0_10","SU_1150_50_0_10","SU_1150_100_0_10","SU_1150_150_0_10","SU_1150_200_0_10","SU_1150_250_0_10","SU_1150_300_0_10","SU_1150_350_0_10","SU_1150_400_0_10","SU_1150_450_0_10","SU_1150_500_0_10","SU_1150_550_0_10","SU_1150_600_0_10","SU_1150_650_0_10","SU_1150_700_0_10","SU_1150_750_0_10","SU_1150_800_0_10","SU_1150_850_0_10","SU_1150_900_0_10","SU_1150_950_0_10","SU_1150_1000_0_10","SU_1150_1050_0_10","SU_1150_1100_0_10","SU_1200_1_0_10","SU_1200_50_0_10","SU_1200_100_0_10","SU_1200_150_0_10","SU_1200_200_0_10","SU_1200_250_0_10","SU_1200_300_0_10","SU_1200_350_0_10","SU_1200_400_0_10","SU_1200_450_0_10","SU_1200_500_0_10","SU_1200_550_0_10","SU_1200_600_0_10","SU_1200_650_0_10","SU_1200_700_0_10","SU_1200_750_0_10","SU_1200_800_0_10","SU_1200_850_0_10","SU_1200_900_0_10","SU_1200_950_0_10","SU_1200_1000_0_10","SU_1200_1050_0_10","SU_1200_1100_0_10","SU_1200_1150_0_10"]
elif "Gtb" in gridname:
    sigSamples = ["SU_200_1_0_10","SU_250_1_0_10","SU_250_50_0_10","SU_300_1_0_10","SU_300_50_0_10","SU_300_100_0_10","SU_350_1_0_10","SU_350_50_0_10","SU_350_100_0_10","SU_350_150_0_10","SU_400_1_0_10","SU_400_50_0_10","SU_400_100_0_10","SU_400_150_0_10","SU_400_200_0_10","SU_450_1_0_10","SU_450_50_0_10","SU_450_100_0_10","SU_450_150_0_10","SU_450_200_0_10","SU_450_250_0_10","SU_500_1_0_10","SU_500_50_0_10","SU_500_100_0_10","SU_500_150_0_10","SU_500_200_0_10","SU_500_250_0_10","SU_500_300_0_10","SU_550_1_0_10","SU_550_50_0_10","SU_550_100_0_10","SU_550_150_0_10","SU_550_200_0_10","SU_550_250_0_10","SU_550_300_0_10","SU_550_350_0_10","SU_600_1_0_10","SU_600_50_0_10","SU_600_100_0_10","SU_600_150_0_10","SU_600_200_0_10","SU_600_250_0_10","SU_600_300_0_10","SU_600_350_0_10","SU_600_400_0_10","SU_650_1_0_10","SU_650_50_0_10","SU_650_100_0_10","SU_650_150_0_10","SU_650_200_0_10","SU_650_250_0_10","SU_650_300_0_10","SU_650_350_0_10","SU_650_400_0_10","SU_650_450_0_10","SU_700_1_0_10","SU_700_50_0_10","SU_700_100_0_10","SU_700_150_0_10","SU_700_200_0_10","SU_700_250_0_10","SU_700_300_0_10","SU_700_350_0_10","SU_700_400_0_10","SU_700_450_0_10","SU_700_500_0_10","SU_750_1_0_10","SU_750_50_0_10","SU_750_100_0_10","SU_750_150_0_10","SU_750_200_0_10","SU_750_250_0_10","SU_750_300_0_10","SU_750_350_0_10","SU_750_400_0_10","SU_750_450_0_10","SU_750_500_0_10","SU_750_550_0_10","SU_800_1_0_10","SU_800_50_0_10","SU_800_100_0_10","SU_800_150_0_10","SU_800_200_0_10","SU_800_250_0_10","SU_800_300_0_10","SU_800_350_0_10","SU_800_400_0_10","SU_800_450_0_10","SU_800_500_0_10","SU_800_550_0_10","SU_800_600_0_10","SU_850_1_0_10","SU_850_50_0_10","SU_850_100_0_10","SU_850_150_0_10","SU_850_200_0_10","SU_850_250_0_10","SU_850_300_0_10","SU_850_350_0_10","SU_850_400_0_10","SU_850_450_0_10","SU_850_500_0_10","SU_850_550_0_10","SU_850_600_0_10","SU_850_650_0_10","SU_900_1_0_10","SU_900_50_0_10","SU_900_100_0_10","SU_900_150_0_10","SU_900_200_0_10","SU_900_250_0_10","SU_900_300_0_10","SU_900_350_0_10","SU_900_400_0_10","SU_900_450_0_10","SU_900_500_0_10","SU_900_550_0_10","SU_900_600_0_10","SU_900_650_0_10","SU_900_700_0_10","SU_950_1_0_10","SU_950_50_0_10","SU_950_100_0_10","SU_950_150_0_10","SU_950_200_0_10","SU_950_250_0_10","SU_950_300_0_10","SU_950_350_0_10","SU_950_400_0_10","SU_950_450_0_10","SU_950_500_0_10","SU_950_550_0_10","SU_950_600_0_10","SU_950_650_0_10","SU_950_700_0_10","SU_950_750_0_10","SU_1000_1_0_10","SU_1000_50_0_10","SU_1000_100_0_10","SU_1000_150_0_10","SU_1000_200_0_10","SU_1000_250_0_10","SU_1000_300_0_10","SU_1000_350_0_10","SU_1000_400_0_10","SU_1000_450_0_10","SU_1000_500_0_10","SU_1000_550_0_10","SU_1000_600_0_10","SU_1000_650_0_10","SU_1000_700_0_10","SU_1000_750_0_10","SU_1000_800_0_10","SU_1050_1_0_10","SU_1050_50_0_10","SU_1050_100_0_10","SU_1050_150_0_10","SU_1050_200_0_10","SU_1050_250_0_10","SU_1050_300_0_10","SU_1050_350_0_10","SU_1050_400_0_10","SU_1050_450_0_10","SU_1050_500_0_10","SU_1050_550_0_10","SU_1050_600_0_10","SU_1050_650_0_10","SU_1050_700_0_10","SU_1050_750_0_10","SU_1050_800_0_10","SU_1050_850_0_10","SU_1100_1_0_10","SU_1100_50_0_10","SU_1100_100_0_10","SU_1100_150_0_10","SU_1100_200_0_10","SU_1100_250_0_10","SU_1100_300_0_10","SU_1100_350_0_10","SU_1100_400_0_10","SU_1100_450_0_10","SU_1100_500_0_10","SU_1100_550_0_10","SU_1100_600_0_10","SU_1100_650_0_10","SU_1100_700_0_10","SU_1100_750_0_10","SU_1100_800_0_10","SU_1100_850_0_10","SU_1100_900_0_10","SU_1150_1_0_10","SU_1150_50_0_10","SU_1150_100_0_10","SU_1150_150_0_10","SU_1150_200_0_10","SU_1150_250_0_10","SU_1150_300_0_10","SU_1150_350_0_10","SU_1150_400_0_10","SU_1150_450_0_10","SU_1150_500_0_10","SU_1150_550_0_10","SU_1150_600_0_10","SU_1150_650_0_10","SU_1150_700_0_10","SU_1150_750_0_10","SU_1150_800_0_10","SU_1150_850_0_10","SU_1150_900_0_10","SU_1150_950_0_10","SU_1200_1_0_10","SU_1200_50_0_10","SU_1200_100_0_10","SU_1200_150_0_10","SU_1200_200_0_10","SU_1200_250_0_10","SU_1200_300_0_10","SU_1200_350_0_10","SU_1200_400_0_10","SU_1200_450_0_10","SU_1200_500_0_10","SU_1200_550_0_10","SU_1200_600_0_10","SU_1200_650_0_10","SU_1200_700_0_10","SU_1200_750_0_10","SU_1200_800_0_10","SU_1200_850_0_10","SU_1200_900_0_10","SU_1200_950_0_10","SU_1200_1000_0_10"]
elif "Sbottom" in gridname:
    sigSamples = ["SU_600_240_0_10","SU_600_280_0_10","SU_600_310_0_10","SU_600_340_0_10","SU_600_380_0_10","SU_600_420_0_10","SU_600_470_0_10","SU_600_530_0_10","SU_600_580_0_10","SU_650_280_0_10","SU_650_310_0_10","SU_650_340_0_10","SU_650_380_0_10","SU_650_420_0_10","SU_650_470_0_10","SU_650_530_0_10","SU_650_580_0_10","SU_650_630_0_10","SU_700_310_0_10","SU_700_380_0_10","SU_700_420_0_10","SU_700_470_0_10","SU_700_530_0_10","SU_700_580_0_10","SU_700_650_0_10","SU_750_310_0_10","SU_750_380_0_10","SU_750_420_0_10","SU_750_470_0_10","SU_750_530_0_10","SU_750_580_0_10","SU_750_630_0_10","SU_750_680_0_10","SU_800_340_0_10","SU_800_420_0_10","SU_800_470_0_10","SU_800_530_0_10","SU_800_580_0_10","SU_800_630_0_10","SU_800_680_0_10","SU_800_730_0_10","SU_800_780_0_10","SU_900_340_0_10","SU_900_420_0_10","SU_900_470_0_10","SU_900_530_0_10","SU_900_580_0_10","SU_900_630_0_10","SU_900_680_0_10","SU_900_730_0_10","SU_900_780_0_10","SU_900_830_0_10","SU_900_880_0_10","SU_1000_420_0_10","SU_1000_470_0_10","SU_1000_530_0_10","SU_1000_630_0_10","SU_1000_730_0_10","SU_1000_830_0_10","SU_1000_880_0_10","SU_1000_930_0_10","SU_1000_980_0_10","SU_1100_340_0_10","SU_1100_420_0_10","SU_1100_480_0_10","SU_1100_580_0_10","SU_1100_680_0_10","SU_1100_780_0_10","SU_1100_880_0_10","SU_1100_980_0_10","SU_1100_1080_0_10","SU_1200_340_0_10","SU_1200_420_0_10","SU_1200_480_0_10","SU_1200_580_0_10","SU_1200_680_0_10","SU_1200_780_0_10","SU_1200_880_0_10","SU_1200_980_0_10","SU_1200_1080_0_10","SU_1200_1180_0_10","SU_1300_340_0_10","SU_1300_420_0_10","SU_1300_480_0_10","SU_1300_580_0_10","SU_1300_680_0_10","SU_1300_780_0_10","SU_1300_880_0_10","SU_1300_980_0_10","SU_1300_1080_0_10","SU_1300_1180_0_10","SU_1300_1280_0_10","SU_1400_420_0_10","SU_1400_480_0_10","SU_1400_580_0_10","SU_1400_680_0_10","SU_1400_780_0_10","SU_1400_880_0_10","SU_1400_980_0_10","SU_1400_1080_0_10","SU_1400_1180_0_10","SU_1400_1280_0_10","SU_1400_1380_0_10","SU_1500_340_0_10","SU_1500_420_0_10","SU_1500_480_0_10","SU_1500_580_0_10","SU_1500_680_0_10","SU_1500_780_0_10","SU_1500_880_0_10","SU_1500_980_0_10","SU_1500_1080_0_10","SU_1500_1180_0_10","SU_1500_1280_0_10","SU_1500_1380_0_10","SU_1500_1480_0_10"]
elif "Stop" in gridname:
    sigSamples = ["SU_500_130_0_10","SU_500_200_0_10","SU_500_250_0_10","SU_500_300_0_10","SU_550_130_0_10","SU_550_200_0_10","SU_550_250_0_10","SU_550_300_0_10","SU_550_350_0_10","SU_600_130_0_10","SU_600_200_0_10","SU_600_250_0_10","SU_600_300_0_10","SU_600_350_0_10","SU_600_400_0_10","SU_650_130_0_10","SU_650_200_0_10","SU_650_250_0_10","SU_650_300_0_10","SU_650_350_0_10","SU_650_400_0_10","SU_650_450_0_10","SU_700_130_0_10","SU_700_200_0_10","SU_700_250_0_10","SU_700_300_0_10","SU_700_350_0_10","SU_700_400_0_10","SU_700_450_0_10","SU_700_500_0_10","SU_750_130_0_10","SU_750_200_0_10","SU_750_250_0_10","SU_750_300_0_10","SU_750_350_0_10","SU_750_400_0_10","SU_750_450_0_10","SU_750_500_0_10","SU_750_550_0_10","SU_800_130_0_10","SU_800_200_0_10","SU_800_250_0_10","SU_800_300_0_10","SU_800_350_0_10","SU_800_400_0_10","SU_800_450_0_10","SU_800_500_0_10","SU_800_550_0_10","SU_800_600_0_10","SU_850_130_0_10","SU_850_200_0_10","SU_850_250_0_10","SU_850_300_0_10","SU_850_350_0_10","SU_850_400_0_10","SU_850_450_0_10","SU_850_500_0_10","SU_850_550_0_10","SU_850_600_0_10","SU_850_650_0_10","SU_900_130_0_10","SU_900_200_0_10","SU_900_250_0_10","SU_900_300_0_10","SU_900_350_0_10","SU_900_400_0_10","SU_900_450_0_10","SU_900_500_0_10","SU_900_550_0_10","SU_900_600_0_10","SU_900_650_0_10","SU_900_700_0_10","SU_950_130_0_10","SU_950_200_0_10","SU_950_250_0_10","SU_950_300_0_10","SU_950_350_0_10","SU_950_400_0_10","SU_950_450_0_10","SU_950_500_0_10","SU_950_550_0_10","SU_950_600_0_10","SU_950_650_0_10","SU_950_700_0_10","SU_950_750_0_10","SU_1000_130_0_10","SU_1000_200_0_10","SU_1000_300_0_10","SU_1000_400_0_10","SU_1000_500_0_10","SU_1000_600_0_10","SU_1000_700_0_10","SU_1000_800_0_10","SU_1100_130_0_10","SU_1100_200_0_10","SU_1100_300_0_10","SU_1100_400_0_10","SU_1100_500_0_10","SU_1100_600_0_10","SU_1100_700_0_10","SU_1100_800_0_10","SU_1100_900_0_10","SU_1200_130_0_10","SU_1200_200_0_10","SU_1200_300_0_10","SU_1200_400_0_10","SU_1200_500_0_10","SU_1200_600_0_10","SU_1200_700_0_10","SU_1200_800_0_10","SU_1200_900_0_10","SU_1200_1000_0_10"]
else:
    print "Did NOT find grid: " + gridname
    print "exiting"
    sys.exit(1)
    




for sig in sigSamples:
    myTopLvl = configMgr.addTopLevelXMLClone(bkgOnly,"SimpleChannel_%s"%sig)
    sigSample = Sample(sig,kBlue)
    sigSample.setNormFactor("mu_SIG",0.5,0.,1.)
    sigXSSyst  = Systematic("SigXSec","_NoSys","_SigXSecup","_SigXSecdown","tree","overallSys")
    sigSample.setStatConfig(True)


    # Decide whether to add theory or not:
    if doTheory == "WT":
        sigSample.addSystematic(sigXSSyst)
    elif doTheory == "NT":
        print "Do NOT do theory errors"
    else:
        print "No correct theory option selceted"
        sys.exit(1)

    sigSample.setNormByTheory()
    myTopLvl.addSamples(sigSample)
    myTopLvl.setSignalSample(sigSample)
